{"version":3,"file":"kadena-crypto.js","sourceRoot":"","sources":["../../../src/chainweaver/kadena-crypto.ts"],"names":[],"mappings":";;;;;;AAAA,iFAAqD;AAErD,MAAM,QAAQ,GAAG,GAAG,EAAE,CAAC,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;AAE3E,8DAA8D;AAC9D,MAAM,SAAS,GAAG,CAChB,EAAK,EACiD,EAAE;IACxD,8DAA8D;IAC9D,OAAO,KAAK,EAAE,GAAG,IAAW,EAAgB,EAAE;QAC5C,+CAA+C;QAC/C,sDAAsD;QACtD,OAAO,CAAC,0BAAY,CAAC,QAAQ,EAAE,EAAE,CAAC;YAChC,MAAM,QAAQ,EAAE,CAAC;QACnB,CAAC;QACD,OAAO,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC;IACrB,CAAC,CAAC;AACJ,CAAC,CAAC;AAEW,QAAA,2BAA2B,GAAG,SAAS,CAClD,0BAAY,CAAC,2BAA2B,CACzC,CAAC;AACW,QAAA,oBAAoB,GAAG,SAAS,CAC3C,0BAAY,CAAC,oBAAoB,CAClC,CAAC;AACW,QAAA,mBAAmB,GAAG,0BAAY,CAAC,mBAAmB,CAAC;AACvD,QAAA,eAAe,GAAG,SAAS,CAAC,0BAAY,CAAC,eAAe,CAAC,CAAC;AAC1D,QAAA,UAAU,GAAG,SAAS,CAAC,0BAAY,CAAC,UAAU,CAAC,CAAC;AAChD,QAAA,YAAY,GAAG,SAAS,CAAC,0BAAY,CAAC,YAAY,CAAC,CAAC;AACpD,QAAA,gBAAgB,GAAG,SAAS,CAAC,0BAAY,CAAC,gBAAgB,CAAC,CAAC;AAC5D,QAAA,iBAAiB,GAAG,0BAAY,CAAC,iBAAiB,CAAC","sourcesContent":["import kadenaCrypto from './vendor/kadena-crypto.js';\n\nconst nextTick = () => new Promise((resolve) => process.nextTick(resolve));\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst makeAsync = <T extends (...args: any[]) => any>(\n  cb: T,\n): ((...args: Parameters<T>) => Promise<ReturnType<T>>) => {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return async (...args: any[]): Promise<any> => {\n    // kadena-crypto internally loads a wasm module\n    // which is an async operation, ensure it is completed\n    while (!kadenaCrypto.isLoaded()) {\n      await nextTick();\n    }\n    return cb(...args);\n  };\n};\n\nexport const kadenaMnemonicToRootKeypair = makeAsync(\n  kadenaCrypto.kadenaMnemonicToRootKeypair,\n);\nexport const kadenaChangePassword = makeAsync(\n  kadenaCrypto.kadenaChangePassword,\n);\nexport const kadenaCheckMnemonic = kadenaCrypto.kadenaCheckMnemonic;\nexport const kadenaGetPublic = makeAsync(kadenaCrypto.kadenaGetPublic);\nexport const kadenaSign = makeAsync(kadenaCrypto.kadenaSign);\nexport const kadenaVerify = makeAsync(kadenaCrypto.kadenaVerify);\nexport const kadenaGenKeypair = makeAsync(kadenaCrypto.kadenaGenKeypair);\nexport const kadenaGenMnemonic = kadenaCrypto.kadenaGenMnemonic;\n"]}