{"version":3,"file":"kadenaChangePassword.js","sourceRoot":"","sources":["../../../../src/chainweaver/compatibility/kadenaChangePassword.ts"],"names":[],"mappings":";;;AACA,6CAA+C;AAE/C,0DAA2F;AAC3F,mDAAyD;AAElD,MAAM,oBAAoB,GAAG,KAAK,EACvC,SAAqB,EACrB,WAAmB,EACnB,WAAmB,EACO,EAAE;IAC5B,MAAM,YAAY,GAAG,MAAM,IAAA,uCAA4B,EACrD,MAAM,IAAA,wBAAa,EAAC,WAAW,EAAE,SAAS,CAAC,EAC3C,WAAW,EACX,WAAW,CACZ,CAAC;IACF,OAAO,IAAA,sCAAsB,EAAC,WAAW,EAAE,YAAY,CAAC,CAAC;AAC3D,CAAC,CAAC;AAXW,QAAA,oBAAoB,wBAW/B","sourcesContent":["import type { EncryptedString } from '../../index.js';\nimport { kadenaDecrypt } from '../../index.js';\nimport type { BinaryLike } from '../../utils/crypto.js';\nimport { kadenaChangePassword as originalKadenaChangePassword } from '../kadena-crypto.js';\nimport { encryptLegacySecretKey } from './encryption.js';\n\nexport const kadenaChangePassword = async (\n  secretKey: BinaryLike,\n  oldPassword: string,\n  newPassword: string,\n): Promise<EncryptedString> => {\n  const newSecretKey = await originalKadenaChangePassword(\n    await kadenaDecrypt(oldPassword, secretKey),\n    oldPassword,\n    newPassword,\n  );\n  return encryptLegacySecretKey(newPassword, newSecretKey);\n};\n"]}